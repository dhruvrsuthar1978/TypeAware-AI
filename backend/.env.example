# ============================================================================
# TYPEAWARE BACKEND ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env and update the values for your environment

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
NODE_ENV=production
PORT=5000
APP_NAME=TypeAware
APP_VERSION=1.0.0
APP_URL=https://app.typeaware.com
CDN_URL=https://cdn.typeaware.com

# ============================================================================
# DATABASE CONFIGURATION (MongoDB)
# ============================================================================
# Option 1: Use MongoDB URI (recommended for production/cloud)
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/typeaware?retryWrites=true&w=majority

# Option 2: Use individual MongoDB settings (for local development)
# MONGODB_HOST=localhost
# MONGODB_PORT=27017
# MONGODB_DATABASE=typeaware
# MONGODB_USERNAME=
# MONGODB_PASSWORD=

# MongoDB Connection Pool Settings
MONGODB_MAX_POOL_SIZE=10
MONGODB_MIN_POOL_SIZE=2
MONGODB_MAX_IDLE_TIME=30000
MONGODB_SERVER_SELECTION_TIMEOUT=5000
MONGODB_SOCKET_TIMEOUT=45000

# ============================================================================
# JWT AUTHENTICATION CONFIGURATION
# ============================================================================
# Generate secure random strings (64+ characters recommended)
# You can use: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

JWT_ACCESS_SECRET=your_super_secure_access_token_secret_here_64_characters_minimum
JWT_REFRESH_SECRET=your_super_secure_refresh_token_secret_here_64_characters_minimum_different_from_access

# Token expiration times
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# JWT Issuer and Audience
JWT_ISSUER=typeaware-api
JWT_AUDIENCE=typeaware-users

# ============================================================================
# EMAIL SERVICE CONFIGURATION (SMTP)
# ============================================================================
# Email service settings for notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-specific-password

# Support email
SUPPORT_EMAIL=support@typeaware.com

# ============================================================================
# SECURITY & RATE LIMITING
# ============================================================================
# CORS allowed origins (comma-separated)
CORS_ORIGINS=https://typeaware.com,https://www.typeaware.com,https://app.typeaware.com

# Rate limiting settings (optional - defaults are provided)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Security headers
HELMET_CSP_ENABLED=true

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
# Log directory path
LOG_DIRECTORY=./logs

# Log levels: error, warn, info, debug
LOG_LEVEL=info

# Log retention (days)
LOG_RETENTION_DAYS=30

# ============================================================================
# EXTENSION API CONFIGURATION
# ============================================================================
# Extension API keys for different environments
EXTENSION_API_KEY_DEV=ext_dev_key_your_development_key_here
EXTENSION_API_KEY_PROD=ext_prod_key_your_production_key_here

# Extension settings
EXTENSION_MAX_OFFLINE_REPORTS=100
EXTENSION_SYNC_INTERVAL=300000
EXTENSION_HEARTBEAT_INTERVAL=300000

# Supported extension versions (comma-separated)
EXTENSION_SUPPORTED_VERSIONS=1.0.0,1.1.0,1.2.0
EXTENSION_MIN_VERSION=1.0.0

# ============================================================================
# CONTENT MODERATION SETTINGS
# ============================================================================
# Content analysis settings
CONTENT_MAX_LENGTH=10000
CONTENT_MIN_LENGTH=5
DETECTION_CONFIDENCE_THRESHOLD=0.7
FUZZY_MATCH_THRESHOLD=0.8

# Supported languages for content analysis
SUPPORTED_LANGUAGES=en,es,fr,de,it
DEFAULT_LANGUAGE=en

# ============================================================================
# ANALYTICS & MONITORING
# ============================================================================
# Analytics settings
ANALYTICS_RETENTION_DAYS=365
ANALYTICS_BATCH_SIZE=1000

# Performance monitoring
PERFORMANCE_SLOW_REQUEST_THRESHOLD=1000

# System health check intervals
HEALTH_CHECK_INTERVAL=60000

# ============================================================================
# FILE UPLOAD & STORAGE
# ============================================================================
# File upload limits
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,txt

# Storage settings (if using cloud storage)
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=typeaware-uploads

# ============================================================================
# REDIS CONFIGURATION (Optional - for caching and sessions)
# ============================================================================
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0

# Redis connection pool
# REDIS_MAX_RETRIES=3
# REDIS_CONNECT_TIMEOUT=10000

# ============================================================================
# WEBHOOK CONFIGURATION (Optional)
# ============================================================================
# Webhook settings for external integrations
# WEBHOOK_SECRET=your_webhook_secret_here
# WEBHOOK_TIMEOUT=30000

# External service URLs
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/slack/webhook
# DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/your/discord/webhook

# ============================================================================
# THIRD-PARTY API KEYS (Optional)
# ============================================================================
# Google Analytics
# GOOGLE_ANALYTICS_ID=UA-XXXXXXXXX-X

# Sentry for error tracking
# SENTRY_DSN=https://your-sentry-dsn-here

# ============================================================================
# SSL/TLS CONFIGURATION (Production)
# ============================================================================
# SSL certificate paths (if serving HTTPS directly)
# SSL_CERT_PATH=/path/to/certificate.crt
# SSL_KEY_PATH=/path/to/private.key

# ============================================================================
# DEVELOPMENT SETTINGS
# ============================================================================
# Development-only settings (ignored in production)
DEBUG=false
VERBOSE_LOGGING=false
ENABLE_DEV_ENDPOINTS=true

# Mock data settings for development
GENERATE_MOCK_DATA=false
MOCK_USER_COUNT=100
MOCK_REPORT_COUNT=1000

# ============================================================================
# DEPLOYMENT SETTINGS
# ============================================================================
# Deployment environment
DEPLOYMENT_ENVIRONMENT=production

# Build settings
BUILD_TIMESTAMP=2024-01-01T00:00:00Z
GIT_COMMIT_HASH=abc123def456

# Process management (for PM2 or similar)
INSTANCE_ID=typeaware-api-1
CLUSTER_MODE=false

# ============================================================================
# BACKUP & MAINTENANCE
# ============================================================================
# Database backup settings
BACKUP_ENABLED=true
BACKUP_FREQUENCY=daily
BACKUP_RETENTION_DAYS=30

# Maintenance mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=TypeAware is currently under maintenance. Please try again later.

# ============================================================================
# FEATURE FLAGS
# ============================================================================
# Enable/disable features
FEATURE_ANALYTICS_EXPORT=true
FEATURE_EMAIL_NOTIFICATIONS=true
FEATURE_ADVANCED_DETECTION=true
FEATURE_USER_BLOCKING=true
FEATURE_REAL_TIME_UPDATES=true
FEATURE_WEBHOOK_INTEGRATION=false

# ============================================================================
# COMPLIANCE & LEGAL
# ============================================================================
# Data retention policies
DATA_RETENTION_DAYS=2555  # 7 years
GDPR_COMPLIANCE_MODE=true
CCPA_COMPLIANCE_MODE=true

# Legal URLs
PRIVACY_POLICY_URL=https://typeaware.com/privacy
TERMS_OF_SERVICE_URL=https://typeaware.com/terms
COOKIE_POLICY_URL=https://typeaware.com/cookies

# ============================================================================
# NOTES
# ============================================================================
# 1. Never commit the actual .env file to version control
# 2. Keep production secrets secure and rotate them regularly
# 3. Use environment-specific .env files (.env.production, .env.development)
# 4. Validate all environment variables on application startup
# 5. Use a secrets management service in production (AWS Secrets Manager, etc.)
# 
# For additional security, consider using:
# - Vault by HashiCorp for secret management
# - AWS Parameter Store for configuration management
# - Docker secrets for containerized deployments
# 
# Remember to update this file when adding new configuration options!